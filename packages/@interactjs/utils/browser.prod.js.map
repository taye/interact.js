{"version":3,"file":"browser.prod.js","sources":["browser.ts"],"sourcesContent":["import domObjects from './domObjects'\nimport is from './is'\n\nconst browser = {\n  init,\n  supportsTouch: null as boolean,\n  supportsPointerEvent: null as boolean,\n  isIOS7: null as boolean,\n  isIOS: null as boolean,\n  isIe9: null as boolean,\n  isOperaMobile: null as boolean,\n  prefixedMatchesSelector: null as 'matches',\n  pEventTypes: null as {\n    up: string\n    down: string\n    over: string\n    out: string\n    move: string\n    cancel: string\n  },\n  wheelEvent: null as string,\n}\n\nfunction init(window: any) {\n  const Element = domObjects.Element\n  const navigator: Partial<Navigator> = window.navigator || {}\n\n  // Does the browser support touch input?\n  browser.supportsTouch =\n    'ontouchstart' in window ||\n    (is.func(window.DocumentTouch) && domObjects.document instanceof window.DocumentTouch)\n\n  // Does the browser support PointerEvents\n  // https://github.com/taye/interact.js/issues/703#issuecomment-471570492\n  browser.supportsPointerEvent = (navigator as any).pointerEnabled !== false && !!domObjects.PointerEvent\n\n  browser.isIOS = /iP(hone|od|ad)/.test(navigator.platform)\n\n  // scrolling doesn't change the result of getClientRects on iOS 7\n  browser.isIOS7 = /iP(hone|od|ad)/.test(navigator.platform) && /OS 7[^\\d]/.test(navigator.appVersion)\n\n  browser.isIe9 = /MSIE 9/.test(navigator.userAgent)\n\n  // Opera Mobile must be handled differently\n  browser.isOperaMobile =\n    navigator.appName === 'Opera' && browser.supportsTouch && /Presto/.test(navigator.userAgent)\n\n  // prefix matchesSelector\n  browser.prefixedMatchesSelector = (\n    'matches' in Element.prototype\n      ? 'matches'\n      : 'webkitMatchesSelector' in Element.prototype\n        ? 'webkitMatchesSelector'\n        : 'mozMatchesSelector' in Element.prototype\n          ? 'mozMatchesSelector'\n          : 'oMatchesSelector' in Element.prototype\n            ? 'oMatchesSelector'\n            : 'msMatchesSelector'\n  ) as 'matches'\n\n  browser.pEventTypes = browser.supportsPointerEvent\n    ? domObjects.PointerEvent === window.MSPointerEvent\n      ? {\n          up: 'MSPointerUp',\n          down: 'MSPointerDown',\n          over: 'mouseover',\n          out: 'mouseout',\n          move: 'MSPointerMove',\n          cancel: 'MSPointerCancel',\n        }\n      : {\n          up: 'pointerup',\n          down: 'pointerdown',\n          over: 'pointerover',\n          out: 'pointerout',\n          move: 'pointermove',\n          cancel: 'pointercancel',\n        }\n    : null\n\n  // because Webkit and Opera still use 'mousewheel' event type\n  browser.wheelEvent = domObjects.document && 'onmousewheel' in domObjects.document ? 'mousewheel' : 'wheel'\n}\n\nexport default browser\n"],"names":["init","supportsTouch","supportsPointerEvent","isIOS7","isIOS","isIe9","isOperaMobile","prefixedMatchesSelector","pEventTypes","window","Element","navigator","browser","is","func","DocumentTouch","domObjects","document","pointerEnabled","PointerEvent","test","platform","appVersion","userAgent","appName","prototype","MSPointerEvent","up","down","over","out","move","cancel","wheelEvent"],"mappings":";;6IAGAA,UACEA,cAAI,KACJC,qBAA8B,KAC9BC,OAAAA,KACAC,WACAC,MAAO,KACPC,cAAsB,KACtBC,wBAA8B,KAC9BC,YAAAA,KACAC,iBASF,SAACR,KAAAS,GAEQT,MAAAA,EAAKS,WAAaC,QACnBA,EAAoBD,EAAAE,WAAQ,CAAA,EAGlCC,QAAAX,cAAA,iBAAAQ,GAAAI,GAAAC,KAAAL,EAAAM,gBAAAC,WAAAC,oBAAAR,EAAAM,cAMAH,QAAAV,sBAAA,IAAAS,EAAAO,kBAAAF,WAAAG,aACAP,QAAQV,MAAoB,wBAAsBgB,UAIlDN,QAAAT,OAAA,iBAAAiB,KAAAT,EAAAU,WAAA,YAAAD,KAAAT,EAAAW,YACAV,QAAQT,MAAM,gBAAkCoB,WAIhDX,QAAAN,cAAA,UAAAK,EAAAa,SAAAZ,QAAAX,eAAA,SAAAmB,KAAAT,EAAAY,WAIAX,QAAAL,wBAAA,YAAAG,EAAAe,UAAA,UAAA,0BAAAf,EAAAe,UAAA,wBAAA,uBAAAf,EAAAe,UAAA,qBAAA,qBAAAf,EAAAe,UAAA,mBAAA,oBACAb,QAAQL,YAAAA,QAAAA,qBACcS,WAAUG,eAE1BV,EAAAiB,eAA2BhB,CAS1BiB,GAAA,cAGCA,KAAiB,gBACjBC,KAAM,YACNC,eACAC,KAAe,gBACfC,OAAqB,mBACrBC,CAEFL,GAAA,YACEA,KAAe,cACfC,KAAM,cACNC,iBACAC,KAAiB,cACjBC,OAAmB,iBACnBC,KAIRpB,QAAAqB,WAAAjB,WAAAC,UAAA,iBAAAD,WAAAC,SAAA,aAAA,OACAL,QACFA"}