{"version":3,"file":"scope.js","sources":["scope.ts"],"sourcesContent":["import browser from '@interactjs/utils/browser'\nimport clone from '@interactjs/utils/clone'\nimport domObjects from '@interactjs/utils/domObjects'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport raf from '@interactjs/utils/raf'\nimport * as win from '@interactjs/utils/window'\n\nimport type Interaction from '@interactjs/core/Interaction'\n\nimport { Eventable } from './Eventable'\n/* eslint-disable import/no-duplicates -- for typescript module augmentations */\nimport './events'\nimport './interactions'\nimport events from './events'\nimport { Interactable as InteractableBase } from './Interactable'\nimport { InteractableSet } from './InteractableSet'\nimport { InteractEvent } from './InteractEvent'\nimport interactions from './interactions'\n/* eslint-enable import/no-duplicates */\nimport { createInteractStatic } from './InteractStatic'\nimport type { OptionsArg } from './options'\nimport { defaults } from './options'\nimport type { Actions } from './types'\n\nexport interface SignalArgs {\n  'scope:add-document': DocSignalArg\n  'scope:remove-document': DocSignalArg\n  'interactable:unset': { interactable: InteractableBase }\n  'interactable:set': { interactable: InteractableBase; options: OptionsArg }\n  'interactions:destroy': { interaction: Interaction }\n}\n\nexport type ListenerName = keyof SignalArgs\n\nexport type ListenerMap = {\n  [P in ListenerName]?: (arg: SignalArgs[P], scope: Scope, signalName: P) => void | boolean\n}\n\ninterface DocSignalArg {\n  doc: Document\n  window: Window\n  scope: Scope\n  options: Record<string, any>\n}\n\nexport interface Plugin {\n  [key: string]: any\n  id?: string\n  listeners?: ListenerMap\n  before?: string[]\n  install?(scope: Scope, options?: any): void\n}\n\n/** @internal */\nexport class Scope {\n  id = `__interact_scope_${Math.floor(Math.random() * 100)}`\n  isInitialized = false\n  listenerMaps: Array<{\n    map: ListenerMap\n    id?: string\n  }> = []\n\n  browser = browser\n  defaults = clone(defaults) as typeof defaults\n  Eventable = Eventable\n  actions: Actions = {\n    map: {},\n    phases: {\n      start: true,\n      move: true,\n      end: true,\n    },\n    methodDict: {} as any,\n    phaselessTypes: {},\n  }\n\n  interactStatic = createInteractStatic(this)\n  InteractEvent = InteractEvent\n  Interactable: typeof InteractableBase\n  interactables = new InteractableSet(this)\n\n  // main window\n  _win!: Window\n\n  // main document\n  document!: Document\n\n  // main window\n  window!: Window\n\n  // all documents being listened to\n  documents: Array<{ doc: Document; options: any }> = []\n\n  _plugins: {\n    list: Plugin[]\n    map: { [id: string]: Plugin }\n  } = {\n    list: [],\n    map: {},\n  }\n\n  constructor() {\n    const scope = this\n\n    this.Interactable = class extends InteractableBase {\n      get _defaults() {\n        return scope.defaults\n      }\n\n      set<T extends InteractableBase>(this: T, options: OptionsArg) {\n        super.set(options)\n\n        scope.fire('interactable:set', {\n          options,\n          interactable: this,\n        })\n\n        return this\n      }\n\n      unset(this: InteractableBase) {\n        super.unset()\n\n        const index = scope.interactables.list.indexOf(this)\n        if (index < 0) return\n\n        scope.interactables.list.splice(index, 1)\n        scope.fire('interactable:unset', { interactable: this })\n      }\n    }\n  }\n\n  addListeners(map: ListenerMap, id?: string) {\n    this.listenerMaps.push({ id, map })\n  }\n\n  fire<T extends ListenerName>(name: T, arg: SignalArgs[T]): void | false {\n    for (const {\n      map: { [name]: listener },\n    } of this.listenerMaps) {\n      if (!!listener && listener(arg as any, this, name as never) === false) {\n        return false\n      }\n    }\n  }\n\n  onWindowUnload = (event: BeforeUnloadEvent) => this.removeDocument(event.target as Document)\n\n  init(window: Window | typeof globalThis) {\n    return this.isInitialized ? this : initScope(this, window)\n  }\n\n  pluginIsInstalled(plugin: Plugin) {\n    const { id } = plugin\n    return id ? !!this._plugins.map[id] : this._plugins.list.indexOf(plugin) !== -1\n  }\n\n  usePlugin(plugin: Plugin, options?: { [key: string]: any }) {\n    if (!this.isInitialized) {\n      return this\n    }\n\n    if (this.pluginIsInstalled(plugin)) {\n      return this\n    }\n\n    if (plugin.id) {\n      this._plugins.map[plugin.id] = plugin\n    }\n    this._plugins.list.push(plugin)\n\n    if (plugin.install) {\n      plugin.install(this, options)\n    }\n\n    if (plugin.listeners && plugin.before) {\n      let index = 0\n      const len = this.listenerMaps.length\n      const before = plugin.before.reduce((acc, id) => {\n        acc[id] = true\n        acc[pluginIdRoot(id)] = true\n        return acc\n      }, {})\n\n      for (; index < len; index++) {\n        const otherId = this.listenerMaps[index].id\n\n        if (otherId && (before[otherId] || before[pluginIdRoot(otherId)])) {\n          break\n        }\n      }\n\n      this.listenerMaps.splice(index, 0, { id: plugin.id, map: plugin.listeners })\n    } else if (plugin.listeners) {\n      this.listenerMaps.push({ id: plugin.id, map: plugin.listeners })\n    }\n\n    return this\n  }\n\n  addDocument(doc: Document, options?: any): void | false {\n    // do nothing if document is already known\n    if (this.getDocIndex(doc) !== -1) {\n      return false\n    }\n\n    const window = win.getWindow(doc)\n\n    options = options ? extend({}, options) : {}\n\n    this.documents.push({ doc, options })\n    this.events.documents.push(doc)\n\n    // don't add an unload event for the main document\n    // so that the page may be cached in browser history\n    if (doc !== this.document) {\n      this.events.add(window, 'unload', this.onWindowUnload)\n    }\n\n    this.fire('scope:add-document', { doc, window, scope: this, options })\n  }\n\n  removeDocument(doc: Document) {\n    const index = this.getDocIndex(doc)\n\n    const window = win.getWindow(doc)\n    const options = this.documents[index].options\n\n    this.events.remove(window, 'unload', this.onWindowUnload)\n\n    this.documents.splice(index, 1)\n    this.events.documents.splice(index, 1)\n\n    this.fire('scope:remove-document', { doc, window, scope: this, options })\n  }\n\n  getDocIndex(doc: Document) {\n    for (let i = 0; i < this.documents.length; i++) {\n      if (this.documents[i].doc === doc) {\n        return i\n      }\n    }\n\n    return -1\n  }\n\n  getDocOptions(doc: Document) {\n    const docIndex = this.getDocIndex(doc)\n\n    return docIndex === -1 ? null : this.documents[docIndex].options\n  }\n\n  now() {\n    return (((this.window as any).Date as typeof Date) || Date).now()\n  }\n}\n\n// Keep Scope class internal, but expose minimal interface to avoid broken types when Scope is stripped out\nexport interface Scope {\n  fire<T extends ListenerName>(name: T, arg: SignalArgs[T]): void | false\n}\n\n/** @internal */\nexport function initScope(scope: Scope, window: Window | typeof globalThis) {\n  scope.isInitialized = true\n\n  if (is.window(window)) {\n    win.init(window)\n  }\n\n  domObjects.init(window)\n  browser.init(window)\n  raf.init(window)\n\n  // @ts-expect-error\n  scope.window = window\n  scope.document = window.document\n\n  scope.usePlugin(interactions)\n  scope.usePlugin(events)\n\n  return scope\n}\n\nfunction pluginIdRoot(id: string) {\n  return id && id.replace(/\\/.*$/, '')\n}\n"],"names":["Scope","id","Math","floor","random","isInitialized","listenerMaps","browser","defaults","clone","Eventable","actions","map","phases","start","move","end","methodDict","phaselessTypes","interactStatic","createInteractStatic","InteractEvent","Interactable","interactables","InteractableSet","_win","document","window","documents","_plugins","list","constructor","scope","InteractableBase","_defaults","set","options","fire","interactable","unset","index","indexOf","splice","addListeners","push","name","arg","listener","onWindowUnload","event","removeDocument","target","init","initScope","pluginIsInstalled","plugin","usePlugin","install","listeners","before","len","length","reduce","acc","pluginIdRoot","otherId","addDocument","doc","getDocIndex","win","getWindow","extend","events","add","remove","i","getDocOptions","docIndex","now","Date","is","domObjects","raf","interactions","replace"],"mappings":"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"}